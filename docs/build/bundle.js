var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function d(){return u(" ")}function f(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}let y;function g(e){y=e}const m=[],h=[],v=[],k=[],b=Promise.resolve();let P=!1;function $(e){v.push(e)}let w=!1;const C=new Set;function _(){if(!w){w=!0;do{for(let e=0;e<m.length;e+=1){const t=m[e];g(t),D(t.$$)}for(g(null),m.length=0;h.length;)h.pop()();for(let e=0;e<v.length;e+=1){const t=v[e];C.has(t)||(C.add(t),t())}v.length=0}while(m.length);for(;k.length;)k.pop()();P=!1,w=!1,C.clear()}}function D(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($)}}const x=new Set;function U(e,t){-1===e.$$.dirty[0]&&(m.push(e),P||(P=!0,b.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function L(i,a,l,s,u,d,f=[-1]){const p=y;g(i);const m=a.props||{},h=i.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let v=!1;if(h.ctx=l?l(i,m,((e,t,...n)=>{const o=n.length?n[0]:t;return h.ctx&&u(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),v&&U(i,e)),t})):[],h.update(),v=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),a.target){if(a.hydrate){const e=function(e){return Array.from(e.childNodes)}(a.target);h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();a.intro&&((k=i.$$.fragment)&&k.i&&(x.delete(k),k.i(b))),function(e,n,i){const{fragment:a,on_mount:l,on_destroy:c,after_update:s}=e.$$;a&&a.m(n,i),$((()=>{const n=l.map(t).filter(r);c?c.push(...n):o(n),e.$$.on_mount=[]})),s.forEach($)}(i,a.target,a.anchor),_()}var k,b;g(p)}var I="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),R=new Uint8Array(16);function T(){if(!I)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(R)}var E=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function S(e){return"string"==typeof e&&E.test(e)}for(var A=[],N=0;N<256;++N)A.push((N+256).toString(16).substr(1));function O(e,t,n){var o=(e=e||{}).random||(e.rng||T)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(A[e[t+0]]+A[e[t+1]]+A[e[t+2]]+A[e[t+3]]+"-"+A[e[t+4]]+A[e[t+5]]+"-"+A[e[t+6]]+A[e[t+7]]+"-"+A[e[t+8]]+A[e[t+9]]+"-"+A[e[t+10]]+A[e[t+11]]+A[e[t+12]]+A[e[t+13]]+A[e[t+14]]+A[e[t+15]]).toLowerCase();if(!S(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const{parse:V,build:q}=globalThis.plist;function M(e){let t,n,o,r;return{c(){t=s("p"),n=u("Download: "),o=s("a"),r=u("install.mobileconfig"),p(o,"href",e[3])},m(e,i){l(e,t,i),a(t,n),a(t,o),a(o,r)},p(e,t){8&t&&p(o,"href",e[3])},d(e){e&&c(t)}}}function j(t){let n,r,i,u,y,g,m,h,v,k,b,P,$,w,C,_,D,x,U,L,I,R,T,E,S,A,N=t[2]&&M(t);return{c(){var e,o,a;n=s("main"),r=s("section"),r.innerHTML="<h1>Webclip Maker</h1>",i=d(),u=s("section"),y=s("p"),y.textContent="Fill in the form below to create a webclip:",g=d(),m=s("form"),h=s("div"),h.innerHTML='<h3>Config Settings</h3> \n\t\t\t\t<input type="text" name="config_name" placeholder="Profile Name" required="" class="svelte-1cilvoc"/> \n\t\t\t\t<input type="text" name="config_author" placeholder="Profile Author" required="" class="svelte-1cilvoc"/>',v=d(),k=s("div"),b=s("h3"),b.textContent="Web App Settings",P=d(),$=s("input"),w=d(),C=s("div"),_=s("input"),D=d(),x=s("img"),L=d(),I=s("input"),R=d(),T=s("input"),E=d(),N&&N.c(),p(r,"class","header svelte-1cilvoc"),p(h,"class","formgroup svelte-1cilvoc"),p($,"type","text"),p($,"name","name"),p($,"placeholder","Name"),$.required=!0,p($,"class","svelte-1cilvoc"),p(_,"type","file"),p(_,"name","icon"),e="display",o="none",_.style.setProperty(e,o,a?"important":""),_.required=!0,p(_,"class","svelte-1cilvoc"),x.src!==(U=t[4])&&p(x,"src",U),p(x,"alt","Click to add Icon"),p(x,"class","svelte-1cilvoc"),p(C,"class","icon svelte-1cilvoc"),p(I,"type","url"),p(I,"name","url"),p(I,"placeholder","URL"),I.required=!0,p(I,"class","svelte-1cilvoc"),p(k,"class","formgroup svelte-1cilvoc"),p(T,"type","submit"),p(T,"class","submit svelte-1cilvoc"),T.value="Generate",p(m,"enctype","multipart/form-data"),p(u,"class","form svelte-1cilvoc")},m(e,o){l(e,n,o),a(n,r),a(n,i),a(n,u),a(u,y),a(u,g),a(u,m),a(m,h),a(m,v),a(m,k),a(k,b),a(k,P),a(k,$),a(k,w),a(k,C),a(C,_),t[9](_),a(C,D),a(C,x),a(k,L),a(k,I),a(m,R),a(m,T),t[10](T),a(m,E),N&&N.m(m,null),t[11](m),S||(A=[f(_,"change",t[6]),f(C,"click",t[7]),f(m,"submit",t[8])],S=!0)},p(e,[t]){16&t&&x.src!==(U=e[4])&&p(x,"src",U),e[2]?N?N.p(e,t):(N=M(e),N.c(),N.m(m,null)):N&&(N.d(1),N=null)},i:e,o:e,d(e){e&&c(n),t[9](null),t[10](null),N&&N.d(),t[11](null),S=!1,o(A)}}}function F(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function l(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((o=o.apply(e,t||[])).next())}))};let r,i,a,l,c=!1,s=HTMLInputElement.prototype;return[r,i,c,a,l,s,function(){let e=s.files[0],t=new FileReader;t.onload=e=>{n(4,l=e.target.result)},t.readAsDataURL(e),console.log(l)},function(){s.click()},function(e){return o(this,void 0,void 0,(function*(){e.preventDefault(),n(1,i.value="Generating...",i),n(3,a=""),n(2,c=!1);let t=new FormData(r),o={};t.forEach(((e,t)=>{o[t]=e}));let s=yield fetch(l).then((e=>e.arrayBuffer()));o.icon=new Uint8Array(s);let u=function(e){let t,n=V('<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n<dict>\n        <key>PayloadContent</key>\n        <array>\n                <dict>\n                        <key>FullScreen</key>\n                        <true/>\n                        <key>Icon</key>\n                        <data>\n                        iconData\n                        </data>\n                        <key>IsRemovable</key>\n                        <true/>\n                        <key>Label</key>\n                        <string></string>\n                        <key>PayloadDescription</key>\n                        <string></string>\n                        <key>PayloadDisplayName</key>\n                        <string></string>\n                        <key>PayloadIdentifier</key>\n                        <string></string>\n                        <key>PayloadType</key>\n                        <string>com.apple.webClip.managed</string>\n                        <key>PayloadUUID</key>\n                        <string></string>\n                        <key>PayloadVersion</key>\n                        <integer>1</integer>\n                        <key>Precomposed</key>\n                        <true/>\n                        <key>URL</key>\n                        <string></string>\n                </dict>\n        </array>\n        <key>PayloadDescription</key>\n        <string></string>\n        <key>PayloadDisplayName</key>\n        <string></string>\n        <key>PayloadIdentifier</key>\n        <string></string>\n        <key>PayloadOrganization</key>\n        <string></string>\n        <key>PayloadRemovalDisallowed</key>\n        <false/>\n        <key>PayloadType</key>\n        <string>Configuration</string>\n        <key>PayloadUUID</key>\n        <string></string>\n        <key>PayloadVersion</key>\n        <integer>1</integer>\n</dict>\n</plist>'),o=O().toUpperCase(),r=O().toUpperCase();n.PayloadContent[0].Label=e.name,n.PayloadContent[0].Icon=e.icon,n.PayloadContent[0].PayloadDescription="Web app bundled into a config, generated by @S0n1c_Dev",n.PayloadContent[0].PayloadIdentifier=`com.apple.webClip.managed.${o}`,n.PayloadContent[0].PayloadUUID=o,n.PayloadContent[0].URL=e.url,n.PayloadDisplayName=e.config_name,n.PayloadDescription="This config was generated via WebClip Maker by @S0n1c_Dev.",n.PayloadIdentifier=`ca.s0n1c.ios.webclip.${r}`,n.PayloadOrganization=e.config_author,n.PayloadUUID=r,console.log(n);try{t=q(n)}catch(e){throw console.log(e),e}return console.log(t),t}(o),d=new Blob([u],{type:"application/x-apple-aspen-config"}),f=URL.createObjectURL(d);n(1,i.value="Generate",i),n(3,a=f),n(2,c=!0)}))},function(e){h[e?"unshift":"push"]((()=>{s=e,n(5,s)}))},function(e){h[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){h[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),L(this,e,F,j,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
